# –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è "–ü–∞—Ä—É—Å" üó≥Ô∏è

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—ã–±–æ—Ä–æ–≤ —Å—Ç–∞—Ä—à–µ–≥–æ –≤–æ–∂–∞—Ç–æ–≥–æ –≤ –¥–µ—Ç—Å–∫–æ–º –ª–∞–≥–µ—Ä–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–º–µ–Ω –∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∑–∞/–ø—Ä–æ—Ç–∏–≤ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ü§ñ **VK –ë–æ—Ç** - —É–¥–æ–±–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
- üìÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–º–µ–Ω** - –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–º–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ (–ì–æ—Ä–Ω–∏—Å—Ç, –ù—å—é–ª–∞–Ω–¥–∏—è, –ó–∞–≥–æ–ª–æ–≤–æ–∫, –∏ —Ç.–¥.)
- üëçüëé **–ó–ê –∏ –ü–†–û–¢–ò–í** - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∫–∞–∫ –∑–∞, —Ç–∞–∫ –∏ –ø—Ä–æ—Ç–∏–≤ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- ‚ö° **Real-time** - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ WebSocket
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤, JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, rate limiting
- üë®‚Äçüíº **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** - –ø–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üê≥ **Docker** - –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- üíæ **–ê–≤—Ç–æ–±–µ–∫–∞–ø—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js v18+
- npm –∏–ª–∏ yarn
- VK –≥—Ä—É–ø–ø–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker –∏ Docker Compose

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (Windows)

1. –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` (—Å–º. –Ω–∏–∂–µ)
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `start.bat`
4. –ì–æ—Ç–æ–≤–æ! –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é

**1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
npm install
```

**2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env:**
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ —É–∫–∞–∂–∏—Ç–µ:
# - VK_TOKEN (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞)
# - ADMIN_PASSWORD (–ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
# - JWT_SECRET (—Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 32+ —Å–∏–º–≤–æ–ª–æ–≤)
# - VOTE_SALT (—Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 32+ —Å–∏–º–≤–æ–ª–æ–≤)
```

**3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ë–î:**
```bash
npm run init-db
```

**4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –°–µ—Ä–≤–µ—Ä
npm start

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: VK –ë–æ—Ç
node src/bot.js
```

**5. –û—Ç–∫—Ä–æ–π—Ç–µ:**
- –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: http://localhost:3000
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: http://localhost:3000/admin (login: admin, password: –∏–∑ .env)

### –í–∞—Ä–∏–∞–Ω—Ç 3: Docker

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up -d

# 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ë–î (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
docker-compose exec app npm run init-db
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repo-url>
cd voting-system-parus
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cp .env.example .env
nano .env
```

4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
npm run init-db
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
npm start
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

## Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
voting-system-parus/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ server.js           # –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ bot.js              # VK –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database/           # –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ models/             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ controllers/        # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API —Ä–æ—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ public/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html          # –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ admin.html          # –ê–¥–º–∏–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ css/                # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ js/                 # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π JS
‚îú‚îÄ‚îÄ docker/                 # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ scripts/                # –£—Ç–∏–ª–∏—Ç—ã
```

## API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ
- `GET /api/status` - –°—Ç–∞—Ç—É—Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- `GET /api/shifts` - –°–ø–∏—Å–æ–∫ —Å–º–µ–Ω
- `GET /api/candidates/:shiftId` - –ö–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ —Å–º–µ–Ω–µ
- `GET /api/stats/:shiftId` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–º–µ–Ω–µ

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ (—Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω)
- `POST /api/admin/login` - –í—Ö–æ–¥
- `POST /api/admin/shifts` - –î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É
- `POST /api/admin/candidates` - –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- `POST /api/admin/voting/control` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º

## üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–º–µ–Ω –∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (http://localhost:3000/admin)
2. **–î–æ–±–∞–≤—å—Ç–µ —Å–º–µ–Ω—ã:**
   - –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É"
   - –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ì–æ—Ä–Ω–∏—Å—Ç", "–ù—å—é–ª–∞–Ω–¥–∏—è")
3. **–î–æ–±–∞–≤—å—Ç–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:**
   - –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞"
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–º–µ–Ω—É –∏ —É–∫–∞–∂–∏—Ç–µ –∏–º—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞

### 2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

1. –í —Ä–∞–∑–¥–µ–ª–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º" –Ω–∞–∂–º–∏—Ç–µ "‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å"
2. –£—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ VK –±–æ—Ç–∞

### 3Ô∏è‚É£ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start`
2. –í–≤–µ–¥–∏—Ç–µ –§–ò–û –∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–º–µ–Ω—É ‚Üí –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ ‚Üí –ó–ê/–ü–†–û–¢–ò–í
4. –ú–æ–∂–Ω–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –ø–æ –≤—Å–µ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º –Ω–∞ –≤—Å–µ—Ö —Å–º–µ–Ω–∞—Ö

### 4Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **–ü—É–±–ª–∏—á–Ω–æ:** http://localhost:3000 - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–¥–º–∏–Ω:** –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤ (SHA-256)
- Rate limiting
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- Audit logs

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [INSTALL.md](INSTALL.md)

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª–∞–≥–µ—Ä—è "–ü–∞—Ä—É—Å"
